# إعداد Supabase لكافي صفوان

هذا الدليل يوضح كيفية إعداد قاعدة بيانات Supabase للمشروع.

## الخطوات

### 1. إنشاء مشروع في Supabase

1. اذهب إلى [supabase.com](https://supabase.com)
2. قم بإنشاء حساب أو تسجيل الدخول
3. اضغط على "New Project"
4. اختر منظمة أو أنشئ واحدة جديدة
5. أدخل اسم المشروع: `Safwan Cafe`
6. أدخل كلمة مرور قوية لقاعدة البيانات
7. اختر المنطقة الأقرب إليك
8. اضغط "Create new project"

### 2. الحصول على معلومات الاتصال

بعد إنشاء المشروع:

1. اذهب إلى "Settings" > "API"
2. انسخ:
   - Project URL
   - anon/public key

### 3. تحديث ملف التكوين

افتح ملف `src/lib/supabase.ts` وقم بتحديث:

```typescript
const supabaseUrl = 'YOUR_PROJECT_URL_HERE'
const supabaseAnonKey = 'YOUR_ANON_KEY_HERE'
```

### 4. إنشاء الجداول

1. اذهب إلى "SQL Editor" في Supabase
2. انسخ محتوى ملف `database.sql`
3. ألصقه في محرر SQL
4. اضغط "Run" لتنفيذ الكود

### 5. التحقق من الجداول

تأكد من إنشاء الجداول التالية:
- `menu_items` - عناصر القائمة
- `orders` - الطلبات
- `reservations` - الحجوزات

### 6. تحديث سياسات الأمان (اختياري)

للبيئة الإنتاجية، يمكنك تعديل سياسات Row Level Security لتكون أكثر تقييداً.

## البيانات الأولية

سيتم إدراج البيانات التالية تلقائياً:

### المشروبات الساخنة
- قهوة عربية - 8,000 د.ع
- إسبريسو مزدوج - 10,000 د.ع  
- لاتيه بالفانيلا - 12,000 د.ع
- شاي أعشاب طبيعي - 6,000 د.ع

### المشروبات الباردة
- آيس لاتيه كراميل - 14,000 د.ع
- فرابتشينو شوكولا - 16,000 د.ع
- موهيتو كلاسيك - 12,000 د.ع
- عصير برتقال فريش - 8,000 د.ع

### الأراكيل
- تفاح أحمر - 25,000 د.ع
- ليمون نعناع - 25,000 د.ع
- تين إنجليزي - 30,000 د.ع
- عنب مع نعناع - 28,000 د.ع
- معسل خاص - 35,000 د.ع

## استكشاف الأخطاء

### خطأ في الاتصال
- تأكد من صحة URL و API Key
- تأكد من تفعيل المشروع في Supabase

### خطأ في الصلاحيات
- تأكد من تفعيل Row Level Security
- تأكد من إنشاء السياسات الصحيحة

### خطأ في الجداول
- تأكد من تنفيذ ملف `database.sql` بالكامل
- تحقق من وجود الجداول في "Table Editor"

## ملاحظات مهمة

1. **الأمان**: في البيئة الإنتاجية، استخدم سياسات أمان أكثر تقييداً
2. **النسخ الاحتياطي**: قم بعمل نسخ احتياطية دورية لقاعدة البيانات
3. **المراقبة**: استخدم لوحة تحكم Supabase لمراقبة الاستخدام والأداء

## الدعم

إذا واجهت أي مشاكل:
1. راجع [توثيق Supabase](https://supabase.com/docs)
2. تحقق من [منتدى المجتمع](https://github.com/supabase/supabase/discussions)
3. راجع الكود في هذا المشروع للتأكد من التطبيق الصحيح